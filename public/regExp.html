<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <script>
            let regExp = / /
            function CountryChange()
            {
                let lstCountries = document.getElementById('lstCountries').value;
                var flag = document.getElementById('flag');
                var txtMobile = document.getElementById('txtMobile')

                if(lstCountries == 'India'){
                    flag.src = 'images/india.png'
                    txtMobile.placeholder = '+91 and 10 digits';
                    regExp = /\+91\d{10}/;
                }
                else if(lstCountries == 'US'){
                    flag.src = 'images/us.jpg'
                    txtMobile.placeholder = '+(1)(425) 555-0100';
                    regExp = /\+\(1\)\(\d{3}\)\s\d{3}-\d{4}/ ;
                }
                else if(lstCountries == 'UK'){
                    flag.src = 'images/uk.jpg'
                    txtMobile.placeholder = '+(44)(20) 1234 5678'
                    regExp = /\+\(44\)\(\d{2}\)\s\d{4}\s\d{4}/;
                }
            }

            function SubmitClick(){
                let mobile = document.getElementById('txtMobile').value
                let mobileError = document.getElementById('mobileError')

                if(mobile.match(regExp)){
                    document.write('Registered');
                }
                else{
                    mobileError.innerHTML = `Invalid Mobile ${document.getElementById('txtMobile').placeholder}`;
                }
            }
    </script>
</head>
<body>
    
    <div class="conatiner w-25">
        <h1>Form</h1>        
        <dd class="input-group">
            <select id="lstCountries" onchange="CountryChange()" class="form-select">
                <option>Select Country</option>
                <option value="India">India</option>
                <option value="US">US</option>
                <option value="UK">UK</option>
            </select>
            <img width="50" height="40" id="flag" border="1" class="input-group-text">
        </dd>
        
        <label>Enter Number</label>
        <input type="text" id="txtMobile" class="form-control">
        <br>
        <button onclick="SubmitClick()" class="btn btn-primary">Submit</button>
        <p id="mobileError" class="text-danger"></p>
    </div>


</body>
</html>